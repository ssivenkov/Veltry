let CartBtnColor=document.querySelector(".cart-svg"),cartBtn=document.querySelector(".cart-btn");function ChangeCartBtnColorIn(){CartBtnColor.setAttribute("fill","url(#linear-gradient)"),cartBtn.style="background-image: linear-gradient(0deg, #dddddd, #777777)"}function ChangeCartBtnColorOut(){CartBtnColor.removeAttribute("fill","url(#linear-gradient)"),cartBtn.style="background-image: linear-gradient(180deg, #dddddd, #777777)"}let SearchBtnColor=document.querySelector(".search-svg"),searchBtn=document.querySelector(".search-btn");function ChangeSearchBtnColorIn(){SearchBtnColor.setAttribute("fill","url(#linear-gradient)"),searchBtn.style="background-image: linear-gradient(0deg, #dddddd, #777777)"}function ChangeSearchBtnColorOut(){SearchBtnColor.removeAttribute("fill","url(#linear-gradient)"),searchBtn.style="background-image: linear-gradient(180deg, #dddddd, #777777)"}cartBtn.addEventListener("mouseover",ChangeCartBtnColorIn),cartBtn.addEventListener("mouseout",ChangeCartBtnColorOut),searchBtn.addEventListener("mouseover",ChangeSearchBtnColorIn),searchBtn.addEventListener("mouseout",ChangeSearchBtnColorOut);let cartWindow=document.querySelector(".popup-cart"),closeBtnCartWindow=document.querySelector(".order-buttons__close");document.body.classList.add("simplebar"),document.querySelectorAll(".simplebar").forEach(t=>{new SimpleBar(t,{timeout:500})});let offScroll=function(){document.body.classList.add("native-cart-scroll-off"),document.body.onmousedown=function(t){if(1===t.button)return!1},document.querySelectorAll(".simplebar-track")[1].style="opacity: 0; visibility: hidden;"},onScroll=function(){document.body.classList.remove("native-cart-scroll-off"),document.body.onmousedown=function(t){if(1===t.button)return!0},document.querySelectorAll(".simplebar-track")[1].style="opacity: 1; visibility: visible;"};function openCart(){cartWindow.classList.add("popup-cart-visible")}function closeCart(){cartWindow.classList.remove("popup-cart-visible")}cartBtn.addEventListener("click",openCart),closeBtnCartWindow.addEventListener("click",closeCart);let openWindowEnlargedImage=function(){offScroll();let t=this.getAttribute("src"),e=document.createElement("div");e.innerHTML=`\n\t<div class="enlarged-image">\n\t\t<div class="enlarged-image__area">\n\t\t\t<div class="enlarged-image__align-container">\n\t\t\t\t<div class="enlarged-image__image-container">\n\t\t\t\t\t<img class="enlarged-image__image" src="${t}">\n\t\t\t\t\t<i class="enlarged-image__close-btn fas fa-times"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>`,document.body.append(e),document.querySelector(".enlarged-image").addEventListener("click",closeWindowEnlargedImage)},closeWindowEnlargedImage=function(){onScroll(),document.querySelector(".enlarged-image").remove()},imgArray=document.querySelectorAll(".list-items__image");imgArray.forEach(t=>{t.addEventListener("click",openWindowEnlargedImage)}),localStorage.setItem("cartIsEmpty",!0),window.onload=function(){let t=document.querySelector(".popup-cart__empty");null==t&&console.log("в корзине есть товары - первоначальная загрузка"),null!=t&&console.log("корзина пустая - первоначальная загрузка")};let cartContainer=document.querySelector(".popup-cart__content"),orderButtonsContainer=document.querySelector(".order-buttons"),createTotalCostComponent=function(){let t=document.createElement("div");t.classList.add("total-cost"),t.classList.add("total-cost-box"),t.innerHTML='\n\t\t\t<div class="total-cost__line"></div>\n\t\t\t<div class="total-cost__inner">\n\t\t\t\t<p class="total-cost__text">Total cost:</p>\n\t\t\t\t<p class="total-cost__cost">1000$</p>\n\t\t\t</div>',cartContainer.prepend(t)},createConfirmButtonComponent=function(){let t=document.createElement("a");t.classList.add("order-buttons__confirm"),t.innerHTML="confirm",t.setAttribute("href","order_page"),orderButtonsContainer.append(t)},createClearButtonComponent=function(){let t=document.createElement("div");t.classList.add("order-buttons__clear"),t.classList.add("fas"),t.classList.add("fa-trash-alt"),orderButtonsContainer.append(t),t.addEventListener("click",clearCart)},renderCartItemInEmptyCart=function(){let t,e=Object.keys(localStorage);for(t of e){}!async function(){let e,s=await fetch("/all_images.php"),a=await s.json();for(e in a){let s=a[e].url,r=a[e].webp,n=a[e].cost,c=a[e].title;if(""+a[e].category==t.replace(/\d/g,"")&&""+s.replace(/\D/g,"")==t.replace(/\D/g,"")){let t=document.createElement("li");t.classList.add("cart-item"),t.innerHTML=`\n\t\t\t\t\t\t<div class="cart-item__image-and-text">\n\t\t\t\t\t\t<picture>\n\t\t\t\t\t\t\t<source srcset="${r}"\n\t\t\t\t\t\t\ttype="image/webp">\n\t\t\t\t\t\t\t<img class="list-items__image" src="${s}"\n\t\t\t\t\t\t\talt="${c}">\n\t\t\t\t\t\t</picture>\n\t\t\t\t\t\t\t<p class="cart-item__description">${c}</p>\n\t\t\t\t\t\t\t<div class="cart-item__string-container">\n\t\t\t\t\t\t\t\t<p class="cart-item__cost">$${n}.00</p>\n\t\t\t\t\t\t\t\t<div class="amount amount-box">\n\t\t\t\t\t\t\t\t\t<a class="amount__btn-addition">&plus;</a>\n\t\t\t\t\t\t\t\t\t<p class="amount__number">1</p>\n\t\t\t\t\t\t\t\t\t<a class="amount__btn-subtract">&minus;</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p class="cart-item__trash-icon"><i class="fas fa-trash-alt"></i></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>`,cartContainer.prepend(t)}}}()},renderCartItemInNonEmptyCart=function(){let t,e=Object.keys(localStorage);for(t of e){}!async function(){let e,s=await fetch("/all_images.php"),a=await s.json();for(e in a){let s=a[e].url,r=a[e].webp,n=a[e].cost,c=a[e].title;if(""+a[e].category==t.replace(/\d/g,"")&&""+s.replace(/\D/g,"")==t.replace(/\D/g,"")){let t=document.createElement("li");t.classList.add("cart-item"),t.innerHTML=`\n\t\t\t\t\t\t<div class="cart-item__image-and-text">\n\t\t\t\t\t\t<picture>\n\t\t\t\t\t\t\t<source srcset="${r}"\n\t\t\t\t\t\t\ttype="image/webp">\n\t\t\t\t\t\t\t<img class="list-items__image" src="${s}"\n\t\t\t\t\t\t\talt="${c}">\n\t\t\t\t\t\t</picture>\n\t\t\t\t\t\t\t<p class="cart-item__description">${c}</p>\n\t\t\t\t\t\t\t<div class="cart-item__string-container">\n\t\t\t\t\t\t\t\t<p class="cart-item__cost">$${n}.00</p>\n\t\t\t\t\t\t\t\t<div class="amount amount-box">\n\t\t\t\t\t\t\t\t\t<a class="amount__btn-addition">&plus;</a>\n\t\t\t\t\t\t\t\t\t<p class="amount__number">1</p>\n\t\t\t\t\t\t\t\t\t<a class="amount__btn-subtract">&minus;</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p class="cart-item__trash-icon"><i class="fas fa-trash-alt"></i></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>`,cartContainer.prepend(t)}}}()},buyBtnArray=document.querySelectorAll(".list-items__icon"),buyButtonScript=function(){(function(){this.classList.add("list-items__icon--active");(function(){setTimeout(()=>{this.classList.remove("list-items__icon--active")},280)}).bind(this)()}).bind(this)(),offClickBuyBtn(),offHoverBuyBtn();let t=document.createElement("div"),e=localStorage.getItem(this.closest("li").id);this.closest("li").id==e?t.innerHTML='<p class="tooltip">Has already!</p>':t.innerHTML='<p class="tooltip">Added to cart!</p>',this.append(t);let s=document.querySelector(".tooltip");setTimeout(()=>{s.classList.add("opacity1")},0),setTimeout(()=>{s.classList.remove("opacity1")},900),setTimeout(()=>{t.remove()},1100),setTimeout(()=>{onClickBuyBtn(),onHoverBuyBtn()},1100);let a=this.closest("li").id;if(localStorage.getItem(a)!=a){localStorage.removeItem("cartIsEmpty"),localStorage.setItem(a,a),function(){let t=document.querySelector(".popup-cart__empty");null==t&&(console.log("в корзине есть товары emptyCartText == null"),console.log(t),renderCartItemInNonEmptyCart()),null!=t&&(console.log("в пустую корзину был добавлен товар - корзина перерисована emptyCartText != null"),console.log(t),t.remove(),createTotalCostComponent(),renderCartItemInEmptyCart(),createConfirmButtonComponent(),createClearButtonComponent())}()}};function clickHandler(t){t.stopPropagation(),t.preventDefault()}buyBtnArray.forEach(t=>{t.addEventListener("click",buyButtonScript)});let offClickBuyBtn=function(){buyBtnArray.forEach(t=>{t.addEventListener("click",clickHandler,!0)})},onClickBuyBtn=function(){buyBtnArray.forEach(t=>{t.removeEventListener("click",clickHandler,!0)})},offHoverBuyBtn=function(){buyBtnArray.forEach(t=>{t.classList.add("buyBtnCursorDefault")})},onHoverBuyBtn=function(){buyBtnArray.forEach(t=>{t.classList.remove("buyBtnCursorDefault")})},searchInput=document.querySelector("input.search-input"),url=document.URL,searchItemWrapper=document.querySelector("div.search-item-wrapper");if("http://localhost:3000/"==url||"http://localhost:3000/index.html"==url||"http://veltry.loc/"==url||"http://veltry.loc/index"==url||"http://veltry.loc/index.php"==url||"http://veltry.loc/?"==url||"http://veltry.loc/?.php"==url||"http://veltry.site/"==url||"http://veltry.site/index"==url||"http://veltry.site/index.php"==url||"http://veltry.site/?"==url||"http://veltry.site/?.php"==url||"https://veltry.site/"==url||"https://veltry.site/index"==url||"https://veltry.site/index.php"==url||"https://veltry.site/?"==url||"https://veltry.site/?.php"==url){let t=[document.querySelector("#bags"),document.querySelector("#camps"),document.querySelector("#cameras"),document.querySelector("#lenses")];t.forEach(t=>{let e=t.id;t.querySelectorAll("li").forEach(t=>{let s=t.cloneNode(!0);s.querySelector("div.list-items__cost-box").remove(),s.classList.remove("list-items__item"),s.classList.add("search-item"),s.querySelector("img.list-items__image").classList.add("search-image"),s.querySelector("img.list-items__image").classList.remove("list-items__image"),s.querySelector("p.list-items__description").classList.add("search-description"),s.querySelector("p.list-items__description").classList.remove("list-items__description"),s.classList.add(e),searchItemWrapper.append(s)})});let e=function(e){let s,a=e.target.closest("li");a&&searchItemWrapper.contains(a)&&(e.target.closest("li.bags")?s=0:e.target.closest("li.camps")?s=1:e.target.closest("li.cameras")?s=2:e.target.closest("li.lenses")&&(s=3),searchInput.value="",searchInput.blur(),ChangeSearchBtnColorOut(),document.querySelectorAll(".search-item").forEach(t=>{t.style="display: none"}),setTimeout(()=>{t[s].scrollIntoView({behavior:"smooth"})},150))};searchItemWrapper.addEventListener("click",e),new List("searchitemslist",{valueNames:["search-description"],listClass:["search-item-wrapper"],page:4}).sort("search-description"),function(){searchInput.addEventListener("keyup",(function(){if(searchInput.value.length>=1){document.querySelectorAll(".search-item").forEach(t=>{t.style="display: grid"})}else{document.querySelectorAll(".search-item").forEach(t=>{t.style="display: none"})}}))}();let s=function(){document.querySelectorAll(".search-item").forEach(t=>{t.style="display: none"})},a=function(){searchInput.addEventListener("focus",(function(){if(searchInput.value.length>=1){document.querySelectorAll(".search-item").forEach(t=>{t.style="display: grid"})}}))},r=function(){ChangeSearchBtnColorIn()};searchInput.addEventListener("click",r),function(){document.addEventListener("click",(function(t){t.target.closest("div.search-wrapper")?a():(s(),ChangeSearchBtnColorOut())}))}();let n=function(){searchInput.focus()};searchBtn.addEventListener("click",n)}else{async function getResponse(){let t,e=await fetch("/all_images.php"),s=await e.json();for(t in s){s[t].category;{let e=document.createElement("li");e.classList.add("search-item"),e.classList.add(s[t].category+"s"),e.innerHTML=`\n\t\t\t\t\t<img class="search-image" src="${s[t].url}">\n\t\t\t\t\t<p class="search-description">${s[t].title}</p>\n\t\t\t\t`,searchItemWrapper.append(e)}}document.querySelector("#bags"),document.querySelector("#camps"),document.querySelector("#cameras"),document.querySelector("#lenses");searchItemWrapper.addEventListener("click",(function(t){let e,s=t.target.closest("li");s&&searchItemWrapper.contains(s)&&(t.target.closest("li.bags")?(e=0,sessionStorage.setItem("scrollTosection",e)):t.target.closest("li.camps")?(e=1,sessionStorage.setItem("scrollTosection",e)):t.target.closest("li.cameras")?(e=2,sessionStorage.setItem("scrollTosection",e)):t.target.closest("li.lenses")&&(e=3,sessionStorage.setItem("scrollTosection",e)),searchInput.value="",searchInput.blur(),ChangeSearchBtnColorOut(),document.querySelectorAll(".search-item").forEach(t=>{t.style="display: none"}),setTimeout(()=>{window.location.href="/"},150))}));new List("searchitemslist",{valueNames:["search-description"],listClass:["search-item-wrapper"],page:4}).sort("search-description");searchInput.addEventListener("keyup",(function(){searchInput.value.length>=1?document.querySelectorAll(".search-item").forEach(t=>{t.style="display: grid"}):document.querySelectorAll(".search-item").forEach(t=>{t.style="display: none"})}));searchInput.addEventListener("click",(function(){ChangeSearchBtnColorIn()}));document.addEventListener("click",(function(t){t.target.closest("div.search-wrapper")?searchInput.addEventListener("focus",(function(){searchInput.value.length>=1&&document.querySelectorAll(".search-item").forEach(t=>{t.style="display: grid"})})):(document.querySelectorAll(".search-item").forEach(t=>{t.style="display: none"}),ChangeSearchBtnColorOut())}));searchBtn.addEventListener("click",(function(){searchInput.focus()}))}getResponse()}let scrollToSectionFromLocalStorage=function(){[document.querySelector("#bags"),document.querySelector("#camps"),document.querySelector("#cameras"),document.querySelector("#lenses")][Number(sessionStorage.getItem("scrollTosection"))].scrollIntoView({behavior:"smooth"}),sessionStorage.removeItem("scrollTosection")};"string"==typeof sessionStorage.getItem("scrollTosection")&&(window.onload=scrollToSectionFromLocalStorage);let checkingCartForEmptiness=function(){Object.keys(localStorage).length>1&&localStorage.removeItem("cartIsEmpty")};checkingCartForEmptiness();let setCartEmpty=function(){let t=document.createElement("div");t.classList.add("popup-cart__empty"),t.innerHTML="Now cart is empty",cartContainer.prepend(t)},clearCart=function(){localStorage.clear(),localStorage.setItem("cartIsEmpty",!0),document.querySelectorAll(".cart-item").forEach(t=>{t.remove()}),document.querySelector(".total-cost-box").remove(),document.querySelector(".order-buttons__confirm").remove(),document.querySelector(".order-buttons__clear").remove(),setCartEmpty()},keysLocalStorage=Object.keys(localStorage),valuesLocalStorage=Object.values(localStorage),checkCartItemsFromLocalStorage=function(){if(JSON.stringify(keysLocalStorage)==JSON.stringify(valuesLocalStorage)){let e=Object.keys(localStorage);createTotalCostComponent();for(let s of e){async function t(){let t,e=await fetch("/all_images.php"),a=await e.json();for(t in a){let e=a[t].url,r=a[t].webp,n=a[t].cost,c=a[t].title;if(""+a[t].category==s.replace(/\d/g,"")&&""+e.replace(/\D/g,"")==s.replace(/\D/g,"")){let t=document.createElement("li");t.classList.add("cart-item"),t.innerHTML=`\n\t\t\t\t\t\t\t<div class="cart-item__image-and-text">\n\t\t\t\t\t\t\t<picture>\n\t\t\t\t\t\t\t\t<source srcset="${r}"\n\t\t\t\t\t\t\t\ttype="image/webp">\n\t\t\t\t\t\t\t\t<img class="list-items__image" src="${e}"\n\t\t\t\t\t\t\t\talt="${c}">\n\t\t\t\t\t\t\t</picture>\n\t\t\t\t\t\t\t\t<p class="cart-item__description">${c}</p>\n\t\t\t\t\t\t\t\t<div class="cart-item__string-container">\n\t\t\t\t\t\t\t\t\t<p class="cart-item__cost">$${n}.00</p>\n\t\t\t\t\t\t\t\t\t<div class="amount amount-box">\n\t\t\t\t\t\t\t\t\t\t<a class="amount__btn-addition">&plus;</a>\n\t\t\t\t\t\t\t\t\t\t<p class="amount__number">1</p>\n\t\t\t\t\t\t\t\t\t\t<a class="amount__btn-subtract">&minus;</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p class="cart-item__trash-icon"><i class="fas fa-trash-alt"></i></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>`,cartContainer.prepend(t)}}}t()}createConfirmButtonComponent(),createClearButtonComponent()}localStorage.getItem("cartIsEmpty")&&setCartEmpty()};checkCartItemsFromLocalStorage();const BagsСheap=document.querySelector(".sort-bags__cheap"),BagsExpensive=document.querySelector(".sort-bags__expensive");function BagsСheapActive(){BagsExpensive.classList.remove("sort-bags__expensive--active"),BagsExpensive.classList.add("sort-bags__expensive--deactive"),BagsСheap.classList.remove("sort-bags__cheap--deactive"),BagsСheap.classList.add("sort-bags__cheap--active")}function BagsExpensiveActive(){BagsСheap.classList.remove("sort-bags__cheap--active"),BagsСheap.classList.add("sort-bags__cheap--deactive"),BagsExpensive.classList.remove("sort-bags__expensive--deactive"),BagsExpensive.classList.add("sort-bags__expensive--active")}const CampsСheap=document.querySelector(".sort-camps__cheap"),CampsExpensive=document.querySelector(".sort-camps__expensive");function CampsСheapActive(){CampsExpensive.classList.remove("sort-camps__expensive--active"),CampsExpensive.classList.add("sort-camps__expensive--deactive"),CampsСheap.classList.remove("sort-camps__cheap--deactive"),CampsСheap.classList.add("sort-camps__cheap--active")}function CampsExpensiveActive(){CampsСheap.classList.remove("sort-camps__cheap--active"),CampsСheap.classList.add("sort-camps__cheap--deactive"),CampsExpensive.classList.remove("sort-camps__expensive--deactive"),CampsExpensive.classList.add("sort-camps__expensive--active")}const CamerasСheap=document.querySelector(".sort-cameras__cheap"),CamerasExpensive=document.querySelector(".sort-cameras__expensive");function CamerasСheapActive(){CamerasExpensive.classList.remove("sort-cameras__expensive--active"),CamerasExpensive.classList.add("sort-cameras__expensive--deactive"),CamerasСheap.classList.remove("sort-cameras__cheap--deactive"),CamerasСheap.classList.add("sort-cameras__cheap--active")}function CamerasExpensiveActive(){CamerasСheap.classList.remove("sort-cameras__cheap--active"),CamerasСheap.classList.add("sort-cameras__cheap--deactive"),CamerasExpensive.classList.remove("sort-cameras__expensive--deactive"),CamerasExpensive.classList.add("sort-cameras__expensive--active")}const LensesСheap=document.querySelector(".sort-lenses__cheap"),LensesExpensive=document.querySelector(".sort-lenses__expensive");function LensesСheapActive(){LensesExpensive.classList.remove("sort-lenses__expensive--active"),LensesExpensive.classList.add("sort-lenses__expensive--deactive"),LensesСheap.classList.remove("sort-lenses__cheap--deactive"),LensesСheap.classList.add("sort-lenses__cheap--active")}function LensesExpensiveActive(){LensesСheap.classList.remove("sort-lenses__cheap--active"),LensesСheap.classList.add("sort-lenses__cheap--deactive"),LensesExpensive.classList.remove("sort-lenses__expensive--deactive"),LensesExpensive.classList.add("sort-lenses__expensive--active")}function setup_for_width(t){const e=document.querySelector(".cartsize"),s=document.querySelector(".searchsize");t.matches?(e.setAttribute("width","54"),e.setAttribute("height","45"),s.setAttribute("width","54"),s.setAttribute("height","54")):(e.setAttribute("width","36"),e.setAttribute("height","30"),s.setAttribute("width","36"),s.setAttribute("height","36"))}let size=window.matchMedia("(min-width: 768px)");size.addListener(setup_for_width),setup_for_width(size);let bg1=document.querySelector(".mouse-parallax-bg1");window.addEventListener("mousemove",(function(t){let e=t.clientX/window.innerWidth,s=t.clientY/window.innerHeight;bg1.style.transform="translate(-"+20*e+"px, -"+20*s+"px)"}));let bg2=document.querySelector(".mouse-parallax-bg2");window.addEventListener("mousemove",(function(t){let e=t.clientX/window.innerWidth,s=t.clientY/window.innerHeight;bg2.style.transform="translate(-"+50*e+"px, -"+50*s+"px)"}));let headers=document.querySelectorAll('a[href*="#"]');for(header of headers)header&&header.addEventListener("click",(function(t){t.preventDefault(),headerId=this.getAttribute("href"),document.querySelector(headerId).scrollIntoView({behavior:"smooth"})}));let bags=document.querySelectorAll('a[href="#bags"]');for(bag of bags)bag&&bag.addEventListener("click",(function(t){t.preventDefault(),bagId=this.getAttribute("href"),document.querySelector(bagId).scrollIntoView({behavior:"smooth"})}));let camps=document.querySelectorAll('a[href="#camps"]');for(camp of camps)camp&&camp.addEventListener("click",(function(t){t.preventDefault(),campId=this.getAttribute("href"),document.querySelector(campId).scrollIntoView({behavior:"smooth"})}));let lenses=document.querySelectorAll('a[href="#lenses"]');for(lense of lenses)lense&&lense.addEventListener("click",(function(t){t.preventDefault(),lenseId=this.getAttribute("href"),document.querySelector(lenseId).scrollIntoView({behavior:"smooth"})}));let cameras=document.querySelectorAll('a[href="#cameras"]');for(camera of cameras)camera&&camera.addEventListener("click",(function(t){t.preventDefault(),cameraId=this.getAttribute("href"),document.querySelector(cameraId).scrollIntoView({behavior:"smooth"})}));new TypeIt("#typeit",{speed:50,cursor:!1}).go();let optionsBags={valueNames:["cost-bag"],listClass:["bags-list"]},optionsCamps={valueNames:["cost-camp"],listClass:["camps-list"]},optionsCameras={valueNames:["cost-camera"],listClass:["cameras-list"]},optionsLenses={valueNames:["cost-lense"],listClass:["lenses-list"]},BagsList=new List("sorting-bags-container",optionsBags),CampsList=new List("sorting-camps-container",optionsCamps),CamerasList=new List("sorting-cameras-container",optionsCameras),LensesList=new List("sorting-lenses-container",optionsLenses);